<% include ../modules/_header %>
<div class="row justify-content-center flex-grow-1 p-3 mb-3">
    <div    class="col-xs-12 col-md-6 col-lg-4 d-flex flex-column justify-content-center
            align-items-center border border-info p-3">
        <h2 class="form__title text-muted text-center mb-5" >
            <i class="fas fa-user-edit pr-1"></i>
            Update user profile
        </h2>
        <form action="/user/<%= userData._id %>?_method=PUT" method="POST" class="mb-4">
            <div class="form-group mb-5">
                <label  for="formEmail" class="form__label text-muted text-uppercase">
                    Email
                </label>
                <input  class="form__input" type="email" name="profile[email]" 
                        value="<%= userData.email %>" id="formEmail" required>
            </div>
            <div class="form-group mb-5">
                <label for="formFirstName" class="form__label text-muted text-uppercase">
                    First Name
                </label>
                <input  class="form__input" type="text" name="profile[firstname]" 
                        title="Choose a username of min 3 and max 15 characters. No symbols or special characters allowed"
                        pattern="^[a-zA-Z][a-zA-Z0-9-_\.]{2,15}$"
                        value="<%= userData.firstname %>" id="formFirstName" required>
            </div>
            <div class="form-group mb-5">
                <label for="formLastName" class="form__label text-muted text-uppercase">
                    Last Name
                </label>
                <input  class="form__input" type="text" name="profile[lastname]" 
                        title="Choose a name of min 3 and max 15 characters. No symbols or special characters allowed"
                        pattern="^[a-zA-Z][a-zA-Z0-9-_\.]{2,15}$"
                        value="<%= userData.lastname %>" id="formLastName" required>
            </div>
            <div class="form-group mb-5">
                <label for="formDateOfBirth" class="form__label text-muted text-uppercase">
                    Date of birth
                </label>
                <input  class="form__input" type="date" name="profile[dateOfBirth]" 
                        id="formDateOfBirth" 
                        value="<%= userData.dateOfBirth.toLocaleDateString(('es-ES'), {year: 'numeric', month: '2-digit', day: '2-digit'}) %>"
                        required>
            </div>
            <button class="btn btn-md btn-outline-info btn-block">
                <i class="far fa-share-square pr-1"></i>
                Update
            </button>
        </form>
        <form   action="/user/<%= userData._id %>?_method=DELETE" 
                method="post" class="deleteForm mb-3">
            <button class="btn btn-outline-danger btn-sm">
                <i class="far fa-trash-alt pr-1"></i>
                Delete your profile
            </button>
        </form>
        <a  class="btn btn-light btn-sm text-muted" href="/user/<%= userData.id %>">
            <i class="fas fa-long-arrow-alt-left pr-1"></i>
            Go Back
        </a>
    </div>
</div>
<script>
        document.body.classList.add('hasPw');
</script>
<% include ../modules/_footer %>